(this["webpackJsonpweather-web"]=this["webpackJsonpweather-web"]||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),i=a(8),s=a.n(i),r=a(5),o=a(2),d=(a(7),a(0));function l(e){var t=e.weatherData,a=e.curDateTime,c=(e.setReload,"http://openweathermap.org/img/wn/".concat(t.weather[0].icon,"@4x.png "));return Object(d.jsxs)("div",{className:"mainWeather","data-tilt":!0,"data-tilt-glare":"true","data-tilt-max-glare":"0.4",children:[Object(d.jsx)("div",{className:"reloadBtn",children:Object(d.jsx)("i",{className:"fas fa-sync-alt"})}),Object(d.jsx)("div",{className:"area",children:t.name+", "+t.sys.country}),Object(d.jsx)("div",{className:"weatherIcon",children:Object(d.jsx)("img",{src:c,width:"250px"})}),Object(d.jsx)("div",{className:"temperature",children:Math.round(t.main.temp)}),Object(d.jsxs)("div",{className:"weatherDescription",children:[t.weather[0].main,", ",t.weather[0].description]}),Object(d.jsx)("div",{className:"timeStamp",children:"".concat(a.Y," ").concat(a.Mon," ").concat(a.D," ").concat(a.H,":").concat(a.Min," ").concat(a.W)})]})}function m(e){var t=e.icon,a=e.title,c=e.description;return Object(d.jsxs)("div",{className:"detailWeather","data-tilt":!0,"data-tilt-glare":"true","data-tilt-max-glare":"0.4",children:[Object(d.jsx)("div",{className:"icon",children:t}),Object(d.jsx)("div",{className:"title",children:a}),Object(d.jsx)("div",{className:"description",children:c})]})}function u(e){var t=e.temp,a=e.iconId,c=e.time,n="http://openweathermap.org/img/wn/".concat(a,"@2x.png ");return Object(d.jsxs)("div",{className:"sixWeather",children:[Object(d.jsx)("div",{className:"temperature",children:t}),Object(d.jsx)("div",{className:"icon",children:Object(d.jsx)("img",{src:n,width:"50px"})}),Object(d.jsx)("div",{className:"time",children:c})]})}var j=function(){var e=Object(c.useState)({weather:[{main:"",description:"",icon:"01n.png "}],main:{temp:0,feels_like:0,temp_min:0,temp_max:0,pressure:0,humidity:0},visibility:0,wind:{speed:0},dt:0,name:"",sys:{country:"",sunrise:0,sunset:0},timezone:0}),t=Object(o.a)(e,2),a=t[0],n=t[1],i=Object(c.useState)(0),s=Object(o.a)(i,2),j=s[0],h=s[1],p=Object(c.useState)(0),b=Object(o.a)(p,2),x=b[0],O=b[1],f=Object(c.useState)([]),g=Object(o.a)(f,2),v=g[0],w=g[1],N=Object(c.useState)(!0),y=Object(o.a)(N,2),M=y[0],S=y[1],D=Object(c.useState)("Taichung"),H=Object(o.a)(D,2),W=H[0],B=H[1],_="cbd6dd463f2d94dcba6e97fa3655fb62";Object(c.useEffect)((function(){fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(W,"&appid=").concat(_,"&units=metric")).then((function(e){return e.json()})).then((function(e){console.log(e),/^2/.test(e.cod)?n(e):alert("City not found")})),fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(W,"&appid=").concat(_,"&units=metric")).then((function(e){return e.json()})).then((function(e){console.log(e),/^2/.test(e.cod)&&(h((function(){for(var t=[],a=0;a<8;a++)t=[].concat(Object(r.a)(t),[e.list[a].main.temp_max]);var c=t.reduce((function(e,t){return e<t?t:e}),0);return Math.round(c)})),O((function(){for(var t=[],a=0;a<8;a++)t=[].concat(Object(r.a)(t),[e.list[a].main.temp_min]);var c=t.reduce((function(e,t){return e>t?t:e}),1e3);return Math.round(c)})),w((function(){for(var t=[],a=0;a<6;a++)t=[].concat(Object(r.a)(t),[{temp:Math.round(e.list[a].main.temp),iconId:e.list[a].weather[0].icon,time:e.list[a].dt}]);return t})))})),B("")}),[M]);var I=function(e){var t=new Date(1e3*e);return{Y:""+t.getFullYear(),Mon:""+(t.getMonth()+1),D:""+t.getDate(),H:t.getHours()<10?"0"+t.getHours():""+t.getHours(),Min:t.getMinutes()<10?"0"+t.getMinutes():""+t.getMinutes(),W:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][t.getDay()],S:t.getSeconds()<10?"0"+t.getSeconds():""+t.getSeconds()}},T=I(a.dt),k=I(a.sys.sunrise),C=I(a.sys.sunset);return Object(d.jsxs)("div",{className:"app",children:[Object(d.jsx)("video",{src:"raining.mp4",autoPlay:!0,loop:!0,muted:!0}),Object(d.jsxs)("div",{className:"searchBox",children:[Object(d.jsx)("input",{type:"text",className:"input",placeholder:"Your City",value:W,onChange:function(e){return B(e.target.value)}}),Object(d.jsx)("div",{className:"submit",onClick:function(){return S(!M)},children:Object(d.jsx)("i",{className:"fas fa-search"})})]}),Object(d.jsx)(l,{weatherData:a,curDateTime:T,setReload:function(){return S(!M)}}),Object(d.jsxs)("div",{className:"detailBox",children:[Object(d.jsx)(m,{icon:Object(d.jsx)("i",{className:"fas fa-thermometer-three-quarters"}),title:"High-Low",description:Math.round(Math.max(j,a.main.temp_max))+"\xb0 - "+Math.round(Math.min(x,a.main.temp_min))+"\xb0"}),Object(d.jsx)(m,{icon:Object(d.jsx)("i",{className:"fas fa-wind"}),title:"Wind",description:a.wind.speed+" mph"}),Object(d.jsx)(m,{icon:Object(d.jsx)("i",{className:"fas fa-hand-holding-water"}),title:"Humidity",description:a.main.humidity+" %"}),Object(d.jsx)(m,{icon:Object(d.jsx)("i",{className:"far fa-sun"}),title:"Sunrise-Sunset",description:"".concat(k.H,":").concat(k.Min," - ").concat(C.H,":").concat(C.Min)}),Object(d.jsxs)("div",{className:"sixBigBox","data-tilt":!0,"data-tilt-glare":"true","data-tilt-max-glare":"0.4",children:[Object(d.jsx)("div",{className:"title",children:"- - Weather Forecast - -"}),Object(d.jsx)("div",{className:"sixSmallBox",children:v.map((function(e){return Object(d.jsx)(u,{temp:e.temp,iconId:e.iconId,time:I(e.time).H+":"+I(e.time).Min},e.time)}))})]})]})]})};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(j,{})}),document.getElementById("root"))},7:function(e,t,a){}},[[14,1,2]]]);
//# sourceMappingURL=main.f8649685.chunk.js.map