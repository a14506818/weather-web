{"version":3,"sources":["components/MainWeather.js","components/DetailWeather.js","components/SixWeather.js","App.js","index.js"],"names":["MainWeather","weatherData","curDateTime","icon","setReload","weather","className","data-tilt","data-tilt-glare","data-tilt-max-glare","name","sys","country","src","width","Math","round","main","temp","description","Y","Mon","D","H","Min","W","DetailWeather","title","SixWeather","iconId","time","App","useState","feels_like","temp_min","temp_max","pressure","humidity","visibility","wind","speed","dt","sunrise","sunset","timezone","setWeatherData","tempMax","setTempMax","tempMin","setTempMin","sixWeatherArr","setSixWeatherArr","reload","inputText","setInputText","apiData","useEffect","fetch","then","res","json","console","log","test","cod","alert","arr","i","list","reduce","max","cur","min","setDateTime","DT","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getDay","S","getSeconds","sunriseTime","sunsetTime","autoPlay","loop","muted","type","placeholder","value","onChange","e","target","onClick","map","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f8649685.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"../css/style.css\";\r\n\r\nexport default function MainWeather({ weatherData, curDateTime, setReload }) {\r\n  const icon = `http://openweathermap.org/img/wn/${weatherData.weather[0].icon}@4x.png `;\r\n\r\n  return (\r\n    <div\r\n      className=\"mainWeather\"\r\n      data-tilt\r\n      data-tilt-glare=\"true\"\r\n      data-tilt-max-glare=\"0.4\"\r\n      // onClick={() => setReload()}\r\n    >\r\n      <div className=\"reloadBtn\">\r\n        <i className=\"fas fa-sync-alt\"></i>\r\n      </div>\r\n      <div className=\"area\">\r\n        {weatherData.name + \", \" + weatherData.sys.country}\r\n      </div>\r\n      <div className=\"weatherIcon\">\r\n        <img src={icon} width=\"250px\"></img>\r\n      </div>\r\n      <div className=\"temperature\">{Math.round(weatherData.main.temp)}</div>\r\n      <div className=\"weatherDescription\">\r\n        {weatherData.weather[0].main}, {weatherData.weather[0].description}\r\n      </div>\r\n      <div className=\"timeStamp\">{`${curDateTime.Y} ${curDateTime.Mon} ${curDateTime.D} ${curDateTime.H}:${curDateTime.Min} ${curDateTime.W}`}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function DetailWeather({ icon, title, description }) {\r\n  return (\r\n    <div\r\n      className=\"detailWeather\"\r\n      data-tilt\r\n      data-tilt-glare=\"true\"\r\n      data-tilt-max-glare=\"0.4\"\r\n    >\r\n      <div className=\"icon\">{icon}</div>\r\n      <div className=\"title\">{title}</div>\r\n      <div className=\"description\">{description}</div>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function SixWeather({ temp, iconId, time }) {\r\n  const icon = `http://openweathermap.org/img/wn/${iconId}@2x.png `;\r\n\r\n  return (\r\n    <div className=\"sixWeather\">\r\n      <div className=\"temperature\">{temp}</div>\r\n      <div className=\"icon\">\r\n        <img src={icon} width=\"50px\"></img>\r\n      </div>\r\n      <div className=\"time\">{time}</div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./css/style.css\";\nimport { useState, useEffect } from \"react\";\nimport MainWeather from \"./components/MainWeather\";\nimport DetailWeather from \"./components/DetailWeather\";\nimport SixWeather from \"./components/SixWeather\";\n\nfunction App() {\n  const [weatherData, setWeatherData] = useState({\n    weather: [\n      {\n        main: \"\",\n        description: \"\",\n        icon: \"01n.png \",\n      },\n    ],\n    main: {\n      temp: 0,\n      feels_like: 0,\n      temp_min: 0,\n      temp_max: 0,\n      pressure: 0,\n      humidity: 0,\n    },\n    visibility: 0,\n    wind: {\n      speed: 0,\n    },\n    dt: 0,\n    name: \"\",\n    sys: {\n      country: \"\",\n      sunrise: 0,\n      sunset: 0,\n    },\n    timezone: 0,\n  });\n  const [tempMax, setTempMax] = useState(0);\n  const [tempMin, setTempMin] = useState(0);\n  const [sixWeatherArr, setSixWeatherArr] = useState([]);\n  const [reload, setReload] = useState(true);\n  const [inputText, setInputText] = useState(\"Taichung\");\n\n  const apiData = {\n    key: \"cbd6dd463f2d94dcba6e97fa3655fb62\",\n    // city: \"Taichung\",\n    // city: \"taipei\",\n  };\n  useEffect(() => {\n    fetch(\n      `https://api.openweathermap.org/data/2.5/weather?q=${inputText}&appid=${apiData.key}&units=metric`\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        if (/^2/.test(res.cod)) {\n          setWeatherData(res);\n        } else {\n          alert(\"City not found\");\n        }\n      });\n    fetch(\n      `https://api.openweathermap.org/data/2.5/forecast?q=${inputText}&appid=${apiData.key}&units=metric`\n    )\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        if (/^2/.test(res.cod)) {\n          setTempMax(() => {\n            let arr = [];\n            for (let i = 0; i < 8; i++) {\n              arr = [...arr, res.list[i].main.temp_max];\n            }\n            let tempMax = arr.reduce((max, cur) => {\n              return max < cur ? cur : max;\n            }, 0);\n            return Math.round(tempMax);\n          });\n          setTempMin(() => {\n            let arr = [];\n            for (let i = 0; i < 8; i++) {\n              arr = [...arr, res.list[i].main.temp_min];\n            }\n            let tempMin = arr.reduce((min, cur) => {\n              return min > cur ? cur : min;\n            }, 1000);\n            return Math.round(tempMin);\n          });\n          setSixWeatherArr(() => {\n            let arr = [];\n            for (let i = 0; i < 6; i++) {\n              arr = [\n                ...arr,\n                {\n                  temp: Math.round(res.list[i].main.temp),\n                  iconId: res.list[i].weather[0].icon,\n                  time: res.list[i].dt,\n                },\n              ];\n            }\n            return arr;\n          });\n        }\n      });\n    setInputText(\"\");\n  }, [reload]);\n  const setDateTime = (dt) => {\n    const DT = new Date(dt * 1000);\n    const weekdays = [\n      \"Monday\",\n      \"Tuesday\",\n      \"Wednesday\",\n      \"Thursday\",\n      \"Friday\",\n      \"Saturday\",\n      \"Sunday\",\n    ];\n    return {\n      Y: \"\" + DT.getFullYear(),\n      Mon: \"\" + (DT.getMonth() + 1),\n      D: \"\" + DT.getDate(),\n      H: DT.getHours() < 10 ? \"0\" + DT.getHours() : \"\" + DT.getHours(),\n      Min: DT.getMinutes() < 10 ? \"0\" + DT.getMinutes() : \"\" + DT.getMinutes(),\n      W: weekdays[DT.getDay()],\n      S: DT.getSeconds() < 10 ? \"0\" + DT.getSeconds() : \"\" + DT.getSeconds(),\n    };\n  };\n  const curDateTime = setDateTime(weatherData.dt);\n  const sunriseTime = setDateTime(weatherData.sys.sunrise);\n  const sunsetTime = setDateTime(weatherData.sys.sunset);\n\n  return (\n    <div className=\"app\">\n      <video src=\"raining.mp4\" autoPlay loop muted></video>\n      <div className=\"searchBox\">\n        <input\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Your City\"\n          value={inputText}\n          onChange={(e) => setInputText(e.target.value)}\n        />\n        <div className=\"submit\" onClick={() => setReload(!reload)}>\n          <i className=\"fas fa-search\"></i>\n        </div>\n      </div>\n      <MainWeather\n        weatherData={weatherData}\n        curDateTime={curDateTime}\n        setReload={() => setReload(!reload)}\n      ></MainWeather>\n      <div className=\"detailBox\">\n        <DetailWeather\n          icon={<i className=\"fas fa-thermometer-three-quarters\"></i>}\n          title={\"High-Low\"}\n          description={\n            Math.round(Math.max(tempMax, weatherData.main.temp_max)) +\n            \"° - \" +\n            Math.round(Math.min(tempMin, weatherData.main.temp_min)) +\n            \"°\"\n          }\n        ></DetailWeather>\n        <DetailWeather\n          icon={<i className=\"fas fa-wind\"></i>}\n          title={\"Wind\"}\n          description={weatherData.wind.speed + \" mph\"}\n        ></DetailWeather>\n        <DetailWeather\n          icon={<i className=\"fas fa-hand-holding-water\"></i>}\n          title={\"Humidity\"}\n          description={weatherData.main.humidity + \" %\"}\n        ></DetailWeather>\n        <DetailWeather\n          icon={<i className=\"far fa-sun\"></i>}\n          title={\"Sunrise-Sunset\"}\n          description={`${sunriseTime.H}:${sunriseTime.Min} - ${sunsetTime.H}:${sunsetTime.Min}`}\n        ></DetailWeather>\n        <div\n          className=\"sixBigBox\"\n          data-tilt\n          data-tilt-glare=\"true\"\n          data-tilt-max-glare=\"0.4\"\n        >\n          <div className=\"title\">- - Weather Forecast - -</div>\n          <div className=\"sixSmallBox\">\n            {sixWeatherArr.map((e) => {\n              return (\n                <SixWeather\n                  key={e.time}\n                  temp={e.temp}\n                  iconId={e.iconId}\n                  time={setDateTime(e.time).H + \":\" + setDateTime(e.time).Min}\n                ></SixWeather>\n              );\n            })}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}